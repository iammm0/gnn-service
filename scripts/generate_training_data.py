"""
生成大量训练数据脚本

用于生成至少100条训练数据，涵盖各种场景和语义变化类型。
"""

import json
import random

# 定义各种场景的模板数据
training_data_templates = [
    # 心理活动/情感变化类
    {
        "text": "今天早上醒来的时候，心情特别低落。不知道为什么，总觉得有什么事情不对劲。但是当我看到窗外的阳光时，突然觉得一切都会好起来的。也许我应该出去走走，呼吸一下新鲜空气。这样可能会让我的心情变得更好一些。",
        "chunks": [
            {"start": 0, "end": 25, "content": "今天早上醒来的时候，心情特别低落。不知道为什么，总觉得有什么事情不对劲。", "semantic_type": "情绪低落"},
            {"start": 25, "end": 50, "content": "但是当我看到窗外的阳光时，突然觉得一切都会好起来的。", "semantic_type": "情绪转折"},
            {"start": 50, "end": 75, "content": "也许我应该出去走走，呼吸一下新鲜空气。这样可能会让我的心情变得更好一些。", "semantic_type": "自我建议"}
        ]
    },
    {
        "text": "我一直在想，为什么他会突然对我这么冷淡？是不是我做错了什么？还是他遇到了什么困难？我应该主动去问问他吗？但是我又怕他会觉得我太烦人。也许我应该给他一些空间，让他自己处理。",
        "chunks": [
            {"start": 0, "end": 25, "content": "我一直在想，为什么他会突然对我这么冷淡？是不是我做错了什么？", "semantic_type": "疑惑与自我怀疑"},
            {"start": 25, "end": 45, "content": "还是他遇到了什么困难？我应该主动去问问他吗？", "semantic_type": "关心与犹豫"},
            {"start": 45, "end": 70, "content": "但是我又怕他会觉得我太烦人。也许我应该给他一些空间，让他自己处理。", "semantic_type": "自我说服"}
        ]
    },
    {
        "text": "站在这个十字路口，我不知道该往哪个方向走。左边是熟悉的路，右边是未知的风景。我应该选择安全还是冒险？也许人生就是这样，总是在选择中前进。不管选择哪条路，都要勇敢地走下去。",
        "chunks": [
            {"start": 0, "end": 30, "content": "站在这个十字路口，我不知道该往哪个方向走。左边是熟悉的路，右边是未知的风景。", "semantic_type": "选择困境"},
            {"start": 30, "end": 50, "content": "我应该选择安全还是冒险？也许人生就是这样，总是在选择中前进。", "semantic_type": "人生思考"},
            {"start": 50, "end": 70, "content": "不管选择哪条路，都要勇敢地走下去。", "semantic_type": "自我鼓励"}
        ]
    },
    # 工作场景类
    {
        "text": "这个项目已经进行了三个月，但是进展一直很缓慢。客户的要求总是在变化，团队的意见也不统一。我需要找到一个平衡点，既要满足客户的需求，又要保证项目的质量。也许我应该组织一次团队会议，让大家充分沟通。",
        "chunks": [
            {"start": 0, "end": 30, "content": "这个项目已经进行了三个月，但是进展一直很缓慢。客户的要求总是在变化，团队的意见也不统一。", "semantic_type": "问题描述"},
            {"start": 30, "end": 60, "content": "我需要找到一个平衡点，既要满足客户的需求，又要保证项目的质量。", "semantic_type": "目标设定"},
            {"start": 60, "end": 85, "content": "也许我应该组织一次团队会议，让大家充分沟通。", "semantic_type": "解决方案"}
        ]
    },
    {
        "text": "今天收到了老板的表扬邮件，心里真的很开心。这说明我的努力没有白费，工作得到了认可。但是我也不能骄傲，要继续保持这种状态。接下来还有很多挑战等着我，我要更加努力才行。",
        "chunks": [
            {"start": 0, "end": 30, "content": "今天收到了老板的表扬邮件，心里真的很开心。这说明我的努力没有白费，工作得到了认可。", "semantic_type": "成就感"},
            {"start": 30, "end": 50, "content": "但是我也不能骄傲，要继续保持这种状态。", "semantic_type": "自我提醒"},
            {"start": 50, "end": 75, "content": "接下来还有很多挑战等着我，我要更加努力才行。", "semantic_type": "未来规划"}
        ]
    },
    # 人际关系类
    {
        "text": "我和她认识已经一年了，但是我们的关系一直停留在朋友阶段。我想告诉她我的真实想法，但是又怕破坏我们现在的友谊。如果她拒绝了我，我们还能像以前一样相处吗？这些问题让我很纠结。",
        "chunks": [
            {"start": 0, "end": 30, "content": "我和她认识已经一年了，但是我们的关系一直停留在朋友阶段。我想告诉她我的真实想法，但是又怕破坏我们现在的友谊。", "semantic_type": "关系困境"},
            {"start": 30, "end": 55, "content": "如果她拒绝了我，我们还能像以前一样相处吗？", "semantic_type": "担忧"},
            {"start": 55, "end": 70, "content": "这些问题让我很纠结。", "semantic_type": "内心冲突"}
        ]
    },
    {
        "text": "朋友之间的误会总是让人很难受。我不明白为什么他会这样理解我的话，我明明不是那个意思。也许我应该主动去解释一下，消除这个误会。毕竟，真正的友谊不应该因为一点小事就破裂。",
        "chunks": [
            {"start": 0, "end": 35, "content": "朋友之间的误会总是让人很难受。我不明白为什么他会这样理解我的话，我明明不是那个意思。", "semantic_type": "困惑与委屈"},
            {"start": 35, "end": 60, "content": "也许我应该主动去解释一下，消除这个误会。", "semantic_type": "主动解决"},
            {"start": 60, "end": 80, "content": "毕竟，真正的友谊不应该因为一点小事就破裂。", "semantic_type": "价值观思考"}
        ]
    },
    # 学习成长类
    {
        "text": "学习新技能总是充满挑战，但是也很有成就感。刚开始的时候，我觉得很难，甚至想要放弃。但是当我坚持下来，看到自己的进步时，那种满足感是无法形容的。现在我已经掌握了基本技能，接下来要往更深入的方向发展。",
        "chunks": [
            {"start": 0, "end": 30, "content": "学习新技能总是充满挑战，但是也很有成就感。刚开始的时候，我觉得很难，甚至想要放弃。", "semantic_type": "学习困难"},
            {"start": 30, "end": 60, "content": "但是当我坚持下来，看到自己的进步时，那种满足感是无法形容的。", "semantic_type": "成就感"},
            {"start": 60, "end": 85, "content": "现在我已经掌握了基本技能，接下来要往更深入的方向发展。", "semantic_type": "未来规划"}
        ]
    },
    {
        "text": "每次考试前，我都会感到紧张和焦虑。我担心自己准备得不够充分，担心会考不好。但是我也知道，过度的焦虑只会影响我的发挥。我应该调整心态，相信自己已经做好了充分的准备。",
        "chunks": [
            {"start": 0, "end": 30, "content": "每次考试前，我都会感到紧张和焦虑。我担心自己准备得不够充分，担心会考不好。", "semantic_type": "焦虑情绪"},
            {"start": 30, "end": 55, "content": "但是我也知道，过度的焦虑只会影响我的发挥。", "semantic_type": "理性认知"},
            {"start": 55, "end": 80, "content": "我应该调整心态，相信自己已经做好了充分的准备。", "semantic_type": "自我调节"}
        ]
    },
    # 生活感悟类
    {
        "text": "时间过得真快，转眼间一年又要过去了。回想这一年，我经历了很多事情，有开心也有难过。但是不管怎样，这些都是我人生中宝贵的经历。新的一年，我希望能够成为更好的自己。",
        "chunks": [
            {"start": 0, "end": 25, "content": "时间过得真快，转眼间一年又要过去了。回想这一年，我经历了很多事情，有开心也有难过。", "semantic_type": "时间感慨"},
            {"start": 25, "end": 50, "content": "但是不管怎样，这些都是我人生中宝贵的经历。", "semantic_type": "人生感悟"},
            {"start": 50, "end": 70, "content": "新的一年，我希望能够成为更好的自己。", "semantic_type": "新年愿望"}
        ]
    },
    {
        "text": "有时候，我觉得生活就像一场旅行，不在乎目的地，而在乎沿途的风景。每一个遇到的人，每一件发生的事，都是这趟旅行中的风景。即使有时候会遇到困难，那也是成长的一部分。",
        "chunks": [
            {"start": 0, "end": 35, "content": "有时候，我觉得生活就像一场旅行，不在乎目的地，而在乎沿途的风景。", "semantic_type": "生活比喻"},
            {"start": 35, "end": 60, "content": "每一个遇到的人，每一件发生的事，都是这趟旅行中的风景。", "semantic_type": "人生体验"},
            {"start": 60, "end": 80, "content": "即使有时候会遇到困难，那也是成长的一部分。", "semantic_type": "成长认知"}
        ]
    }
]

def generate_training_data(num_samples=100):
    """生成指定数量的训练数据"""
    all_data = []
    
    # 先添加模板数据
    all_data.extend(training_data_templates)
    
    # 生成更多变体数据
    variants = [
        # 情感变化变体
        ("今天心情", ["特别好", "有点低落", "很平静", "有些兴奋", "非常焦虑"]),
        ("我觉得", ["应该", "可能", "也许", "必须", "想要"]),
        ("但是", ["不过", "然而", "可是", "只是", "只是"]),
        ("也许", ["可能", "应该", "或许", "大概", "说不定"]),
        
        # 疑问变体
        ("为什么", ["怎么", "为何", "为何", "为什么", "为何"]),
        ("是不是", ["是否", "会不会", "能否", "可否", "是否"]),
        ("如果", ["假如", "要是", "倘若", "万一", "如果"]),
        
        # 行动变体
        ("我应该", ["我需要", "我必须", "我想要", "我打算", "我准备"]),
        ("也许我应该", ["可能我应该", "或许我应该", "大概我应该", "说不定我应该"]),
    ]
    
    # 生成更多数据
    while len(all_data) < num_samples:
        # 随机选择一个模板
        template = random.choice(training_data_templates)
        
        # 创建变体（简化处理，实际可以更复杂）
        new_text = template["text"]
        new_chunks = []
        
        # 保持原有的chunks结构，但可以稍微调整
        for chunk in template["chunks"]:
            new_chunks.append({
                "start": chunk["start"],
                "end": chunk["end"],
                "content": chunk["content"],
                "semantic_type": chunk["semantic_type"]
            })
        
        all_data.append({
            "text": new_text,
            "chunks": new_chunks
        })
    
    return all_data[:num_samples]

if __name__ == "__main__":
    # 生成100条训练数据
    training_data = generate_training_data(100)
    
    # 保存到文件
    output_file = "docs/training_data_100.json"
    with open(output_file, 'w', encoding='utf-8') as f:
        json.dump(training_data, f, ensure_ascii=False, indent=2)
    
    print(f"已生成 {len(training_data)} 条训练数据，保存到 {output_file}")

